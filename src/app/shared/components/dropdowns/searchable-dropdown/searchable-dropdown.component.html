<div [class]="'relative text-sm ' + widthClass() + ' ' + extraClasses()">
	<input
		type="text"
		class="flex w-full px-4 py-2 border rounded-lg border-black hover:bg-hover-bg dark:border-white dark:hover:bg-dark-hover-bg placeholder:text-placeholder transition-colors"
		[id]="id()"
		[name]="id()"
		[(ngModel)]="input"
		[placeholder]="placeholder() ? placeholder() : 'No Option'"
		(focus)="onFocus()"
	/>

	<i
		class="bi bi-caret-down-fill absolute right-2 top-1/2 -translate-y-1/2 transition-transform text-xs cursor-pointer"
		(click)="toggleDropdown()"
		[ngClass]="{ 'rotate-180': isDropdownOpen() }"
	></i>

	@if(isDropdownOpen()) {
	<div
		[class]="
			'absolute top-full mt-2 overflow-y-auto left-0 bg-white dark:bg-dark-bg text-black dark:text-white w-full rounded-lg shadow-md overflow-hidden gap-1 ' +
			contentClass()
		"
	>
		@for(option of filteredOptionList(); track option.id) {
		<button
			class="flex w-full py-2 px-4 hover:bg-hover-bg dark:hover:bg-dark-hover-bg transition-colors cursor-pointer text-nowrap"
			(click)="onOptionSelected(option)"
		>
			{{ option.value }}
		</button>
		}
	</div>
	}
</div>
