<app-base-popup title="Settings" [formGroup]="baseFormGroup">
	<mat-dialog-content [formGroup]="formGroup" class="dark:!text-white">
		@if(isDataFetched()) {
		<div class="flex flex-col gap-4">
			<div class="flex gap-2 items-center">
				<span class="font-medium">Username</span>
				<span>{{ username() }}</span>
			</div>

			<div class="flex flex-col gap-2">
				<label class="font-medium" for="email">Email Address</label>
				<app-text-input
					id="email"
					name="email"
					placeholder="Email Address"
					formControlName="email"
				></app-text-input>
			</div>

			<div class="flex justify-between items-center">
				<div class="flex gap-2 items-center">
					<span class="font-medium">Password</span>
					<span>******</span>
				</div>

				<app-border-button>
					<div class="flex gap-2 items-center">
						<i class="bi bi-lock-fill"></i>
						<span>Change Password</span>
					</div>
				</app-border-button>
			</div>

			<div class="flex flex-col gap-2">
				<label class="font-medium" for="fullName">Full Name</label>
				<app-text-input
					id="fullName"
					name="fullName"
					placeholder="Full Name"
					formControlName="fullName"
				></app-text-input>
			</div>

			<div class="flex flex-col gap-2">
				<label class="font-medium" for="description">Description</label>
				<app-text-area
					id="description"
					name="description"
					placeholder="Description"
					formControlName="description"
				></app-text-area>
			</div>

			<div class="flex flex-col gap-2">
				<div class="flex gap-2 items-center">
					<i class="bi bi-image"></i>
					<span class="font-medium">Profile Picture</span>
				</div>

				<input
					#profilePictureInput
					type="file"
					class="hidden"
					accept="image/png, image/jpeg, image/jpg"
					(change)="onUploadFile($event)"
				/>

				<div class="flex items-center justify-between">
					<app-user-image
						[src]="profileUrl()"
						class="w-1/3"
						extraClasses="text-6xl"
					></app-user-image>

					<app-border-button (onClick)="profilePictureInput.click()">
						<div class="flex gap-2 justify-center items-center">
							<i class="bi bi-upload"></i>
							Upload Photo
						</div>
					</app-border-button>
				</div>
			</div>

			<div class="flex flex-col gap-2">
				<div class="flex items-center gap-2">
					<i class="bi bi-cake-fill"></i>
					<label class="font-medium" for="dob">Birthday</label>
				</div>
				<app-date-input
					id="dob"
					name="dob"
					formControlName="dob"
				></app-date-input>
			</div>

			<div class="flex items-center gap-4">
				<span class="font-medium">Gender</span>

				<div class="flex gap-2 items-center cursor-pointer">
					<input
						type="radio"
						class="cursor-pointer"
						id="unspecifiedGender"
						[value]="null"
						formControlName="gender"
					/>

					<label
						for="unspecifiedGender"
						class="text-sm cursor-pointer"
						>Unspecified</label
					>
				</div>

				<div class="flex gap-2 items-center cursor-pointer">
					<input
						type="radio"
						class="cursor-pointer"
						id="male"
						[value]="'Male'"
						formControlName="gender"
					/>

					<label for="male" class="text-sm cursor-pointer"
						>Male</label
					>
				</div>

				<div class="flex gap-2 items-center">
					<input
						type="radio"
						class="cursor-pointer"
						id="female"
						[value]="'Female'"
						formControlName="gender"
					/>

					<label for="female" class="text-sm cursor-pointer"
						>Female</label
					>
				</div>
			</div>
		</div>
		}
	</mat-dialog-content>

	<mat-dialog-actions align="end">
		<app-button (onClick)="updateSettings()">Save</app-button>
	</mat-dialog-actions>
</app-base-popup>
